angular.module("MessageCenter",["ngAnimate","template/message-center/message.html","template/message-center/message-center.html"]).run(["$document","$compile","$rootScope",function(a,b,c){if(!a.find("message-center").length){var d=b("<message-center></message-center>")(c);a.find("body").append(d)}}]).factory("MessageService",["$rootScope",function(a){var b={};b.config={disabled:!1,max:3,timeout:3e3};var c=[],d=[],e=0;return b.configure=function(a){this.config.disabled=angular.isDefined(a.disabled)?a.disabled:this.config.disabled,this.config.max=angular.isDefined(a.max)?a.max:this.config.max,this.config.timeout=angular.isDefined(a.timeout)?a.timeout:this.config.timeout},b.broadcast=function(f,g){if(this.config.disabled)return void d.push({message:f,opts:g});e++;var h={classes:[],message:f,id:e,timeout:b.config.timeout};g&&(g.important&&(h.type="important"),g.color&&h.classes.push(g.color),angular.isDefined(g.timeout)&&angular.isNumber(g.timeout)&&(h.timeout=g.timeout)),c.push(h),a.$broadcast("MessageService.broadcast",h)},b.info=function(a,b){b=b||{},b.color="info",this.broadcast(a,b)},b.danger=function(a,b){b=b||{},b.color="danger",this.broadcast(a,b)},b.error=function(a,b){b=b||{},b.color="danger",this.broadcast(a,b)},b.success=function(a,b){b=b||{},b.color="success",this.broadcast(a,b)},b.warn=function(a,b){b=b||{},b.color="warning",this.broadcast(a,b)},b.warning=function(a,b){b=b||{},b.color="warning",this.broadcast(a,b)},b.getHistory=function(){return c},b.getDisabledHistory=function(){return d},b.clearHistory=function(){c=[],e=0},b}]).directive("messageCenter",["$timeout","MessageService",function(a,b){function c(a,b){var c=a.indexOf(b);return-1!==c&&a.splice(c,1),a}return{restrict:"E",scope:{},templateUrl:"template/message-center/message-center.html",controller:["$scope",function(a){a.removeItem=function(b){b.type?c(a.impMessages,b):c(a.messages,b)}}],link:function(d){function e(b,d){if(0!==b.length){var f=b.shift();d.push(f),a(function(){c(d,f),b.length>0&&a(function(){e(b,d)},f.timeout)},f.timeout)}}d.messages=[],d.impMessages=[];var f=[],g=[];d.$on("MessageService.broadcast",function(a,c){var h,i;c.type?(h=g,i=d.impMessages):(h=f,i=d.messages),h.push(c),i.length<b.config.max&&1===h.length&&e(h,i)})}}}]).directive("message",[function(){return{replace:!0,restrict:"E",templateUrl:"template/message-center/message.html"}}]),angular.module("template/message-center/message-center.html",[]).run(["$templateCache",function(a){a.put("template/message-center/message-center.html",'<span><span class="message-center-important"><message ng-repeat="message in impMessages" class="message-animation"></message></span><span class="message-center-regular"><message ng-repeat="message in messages" class="message-animation"></message></span><span>')}]),angular.module("template/message-center/message.html",[]).run(["$templateCache",function(a){a.put("template/message-center/message.html",'<div class="message-box" ng-class="message.classes"><span class="message">{{message.message}}</span><button type="button" class="close" aria-hidden="true" ng-click="removeItem(message)">&times;</button></div>')}]);