angular.module("message-center.service",[]),angular.module("message-center",["ngAnimate","message-center.service","message-center.templates"]).run(["$compile","$document","$rootScope",function(e,t,s){var n=e("<message-center></message-center>")(s);t.find("body").append(n)}]).directive("messageCenter",function(){function e(e,t){for(var s=0;s<e.length;s++)if(e[s].id===t.id){e.splice(s,1);break}return e}return{controller:["$scope","$timeout","MessageService",function(t,s,n){function o(){if(!(0===i.length||t.messages.length>=n.config.max)){var r=i.shift();t.messages.push(r),s(function(){e(t.messages,r),i.length>0&&o()},r.timeout)}}var r=0,i=[];t.messages=[],t.position=n.config.position,t.removeItem=function(s){t.messages=e(t.messages,s),o()},n.registerListener("broadcast",function(e,t){t=t||{};var s={classes:[],id:r++,message:e,timeout:angular.isDefined(t.timeout)&&angular.isNumber(t.timeout)?t.timeout:n.config.timeout};t&&t.color&&s.classes.push(t.color),i.push(s),o()})}],restrict:"E",scope:!0,templateUrl:"templates/message-center/message-center.html"}}).directive("messageItem",function(){return{replace:!0,restrict:"E",scope:!1,templateUrl:"templates/message-center/message-item.html"}}),angular.module("message-center.service").factory("MessageService",function(){function e(e,t){t=t||{},t.color="warning",this.listeners.warning.forEach(function(s){s(e,t)}),this.broadcast(e,t)}var t={TopLeft:"top left",TopRight:"top right",BottomLeft:"bottom left",BottomRight:"bottom right",Centered:"centered"},s=function(e){this.config={position:t.TopRight,disabled:!1,max:3,timeout:3e3},this.disabledHistory=[],this.history=[],this.listeners={broadcast:[],disable:[],info:[],error:[],success:[],warning:[]},angular.extend(this.config,e)};return s.prototype.Position=t,s.prototype.registerListener=function(e,t){if("warn"===e&&(e="warning"),!this.listeners[e])throw new Error("Topic "+e+" not supported");this.listeners[e].push(t)},s.prototype.configure=function(e){angular.extend(this.config,e)},s.prototype.getHistory=function(){return this.history},s.prototype.getDisabledHistory=function(){return this.disabledHistory},s.prototype.clearHistory=function(){this.history=[]},s.prototype.broadcast=function(e,t){var s={message:e,opts:t};this.config.disabled?this.disabledHistory.push(s):this.history.push(s),this.listeners.broadcast.forEach(function(s){s(e,t)})},s.prototype.danger=function(e,t){t=t||{},t.color="danger",this.listeners.danger.forEach(function(s){s(e,t)}),this.broadcast(e,t)},s.prototype.error=function(e,t){t=t||{},t.color="danger",this.listeners.error.forEach(function(s){s(e,t)}),this.broadcast(e,t)},s.prototype.info=function(e,t){t=t||{},t.color="info",this.listeners.info.forEach(function(s){s(e,t)}),this.broadcast(e,t)},s.prototype.success=function(e,t){t=t||{},t.color="success",this.listeners.success.forEach(function(s){s(e,t)}),this.broadcast(e,t)},s.prototype.warn=e,s.prototype.warning=e,new s}),function(e){try{e=angular.module("message-center.templates")}catch(t){e=angular.module("message-center.templates",[])}e.run(["$templateCache",function(e){e.put("templates/message-center/message-center.html",'<span class="message-center" ng-class="position"><ul class="messages"><message-item ng-repeat="message in messages" class="message-animation"></message-item></ul></span>')}])}(),function(e){try{e=angular.module("message-center.templates")}catch(t){e=angular.module("message-center.templates",[])}e.run(["$templateCache",function(e){e.put("templates/message-center/message-item.html",'<li class="message-box" ng-class="message.classes"><span class="message">{{message.message}}</span> <button type="button" class="close" aria-hidden="true" ng-click="removeItem(message)">&times;</button></li>')}])}();