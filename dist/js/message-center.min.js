angular.module("message-center.service",[]),angular.module("message-center",["ngAnimate","message-center.service","message-center.templates"]).run(["$compile","$document","$rootScope",function(e,s,t){var n=e("<message-center></message-center>")(t);s.find("body").append(n)}]).directive("messageCenter",function(){function e(e,s){for(var t=0;t<e.length;t++)if(e[t].id===s.id){e.splice(t,1);break}return e}return{controller:["$scope","$timeout","MessageService",function(s,t,n){function o(){if(!(0===a.length||s.messages.length>=n.config.max)){var i=a.shift();s.messages.push(i),t(function(){e(s.messages,i),a.length>0&&o()},i.timeout)}}var i=0,a=[];s.messages=[],s.position=n.config.position,s.removeItem=function(t){s.messages=e(s.messages,t),o()},n.registerListener("broadcast",function(e,r){e=e||{},angular.isObject(e)||(e={message:e}),r=r||{};var c={classes:[],id:i++,title:e.title,message:e.message,timeout:angular.isDefined(r.timeout)&&angular.isNumber(r.timeout)?r.timeout:n.config.timeout};r&&r.color&&c.classes.push(r.color),n.config.replace?(s.messages.splice(0,s.messages.length),s.messages.push(c),angular.isDefined(r.timeout)&&t(function(){s.messages.splice(0,s.messages.length)},r.timeout)):(a.push(c),o())})}],restrict:"E",scope:!0,templateUrl:"templates/message-center/message-center.html"}}).directive("messageItem",function(){return{replace:!0,restrict:"E",scope:!1,templateUrl:"templates/message-center/message-item.html"}}),function(e){try{e=angular.module("message-center.templates")}catch(s){e=angular.module("message-center.templates",[])}e.run(["$templateCache",function(e){e.put("templates/message-center/message-center.html",'<span class="message-center" ng-class="position">\n  <ul class="messages">\n    <message-item ng-repeat="message in messages" class="message-animation"></message-item>\n  </ul>\n</span>\n')}])}(),angular.module("message-center.service").factory("MessageService",function(){function e(e,s){s=s||{},s.color="warning",this.listeners.warning.forEach(function(t){t(e,s)}),this.broadcast(e,s)}var s={TopLeft:"top left",TopRight:"top right",BottomLeft:"bottom left",BottomRight:"bottom right",Centered:"centered"},t=function(e){this.config={position:s.TopRight,disabled:!1,max:3,timeout:3e3,replace:!1},this.disabledHistory=[],this.history=[],this.listeners={broadcast:[],disable:[],info:[],error:[],success:[],warning:[]},angular.extend(this.config,e)};return t.prototype.Position=s,t.prototype.registerListener=function(e,s){if("warn"===e&&(e="warning"),!this.listeners[e])throw new Error("Topic "+e+" not supported");this.listeners[e].push(s)},t.prototype.configure=function(e){angular.extend(this.config,e)},t.prototype.getHistory=function(){return this.history},t.prototype.getDisabledHistory=function(){return this.disabledHistory},t.prototype.clearHistory=function(){this.history=[]},t.prototype.broadcast=function(e,s){var t={message:e,opts:s};this.config.disabled?this.disabledHistory.push(t):this.history.push(t),this.listeners.broadcast.forEach(function(t){t(e,s)})},t.prototype.danger=function(e,s){s=s||{},s.color="danger",this.listeners.danger.forEach(function(t){t(e,s)}),this.broadcast(e,s)},t.prototype.error=function(e,s){s=s||{},s.color="danger",this.listeners.error.forEach(function(t){t(e,s)}),this.broadcast(e,s)},t.prototype.info=function(e,s){s=s||{},s.color="info",this.listeners.info.forEach(function(t){t(e,s)}),this.broadcast(e,s)},t.prototype.success=function(e,s){s=s||{},s.color="success",this.listeners.success.forEach(function(t){t(e,s)}),this.broadcast(e,s)},t.prototype.warn=e,t.prototype.warning=e,new t}),function(e){try{e=angular.module("message-center.templates")}catch(s){e=angular.module("message-center.templates",[])}e.run(["$templateCache",function(e){e.put("templates/message-center/message-item.html",'<li class="message-box" ng-class="message.classes">\n  <span class="title message" ng-show="message.title">{{message.title}}<br></span>\n  <span class="message" ng-bind-html="message.message"></span>\n  <button type="button" class="close" aria-hidden="true" ng-click="removeItem(message)">&times;</button>\n</li>\n')}])}();