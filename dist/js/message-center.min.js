angular.module("message-center.service",[]),angular.module("message-center",["ngAnimate","message-center.service","message-center.templates"]).run(["$compile","$document","$rootScope",function(e,t,s){var n=e("<message-center></message-center>")(s);t.find("body").append(n)}]).directive("messageCenter",["$timeout","MessageService",function(e,t){function s(e,t){for(var s,n=0;n<e.length;n++)if(e[n].id===t.id){s=n;break}return-1!==s&&e.splice(s,1),e}function n(t,o){if(0!==t.length){var i=t.shift();o.push(i),e(function(){s(o,i),t.length>0&&e(function(){n(t,o)},i.timeout)},i.timeout)}}var o=0;return{restrict:"E",scope:{},templateUrl:"templates/message-center/message-center.html",controller:["$scope",function(e){e.removeItem=function(t){t.type?s(e.impMessages,t):s(e.messages,t)}}],link:function(e){e.messages=[],e.impMessages=[],e.position=t.config.position;var s=[],i=[];t.registerListener("broadcast",function(r,a){a=a||{};var c={classes:[],message:r,id:o++,timeout:angular.isDefined(a.timeout)&&angular.isNumber(a.timeout)?a.timeout:t.config.timeout};a&&(a.important&&(c.type="important"),a.color&&c.classes.push(a.color));var m,u;c.type?(m=i,u=e.impMessages):(m=s,u=e.messages),m.push(c),u.length<t.config.max&&1===m.length&&n(m,u)})}}}]).directive("messageItem",function(){return{replace:!0,restrict:"E",templateUrl:"templates/message-center/message-item.html"}}),function(e){try{e=angular.module("message-center.templates")}catch(t){e=angular.module("message-center.templates",[])}e.run(["$templateCache",function(e){e.put("templates/message-center/message-center.html",'<span class="message-center" ng-class="position"><ul class="messages"><message-item ng-repeat="message in messages" class="message-animation"></message-item></ul></span>')}])}(),angular.module("message-center.service").factory("MessageService",function(){function e(e,t){t=t||{},t.color="warning",this.listeners.warning.forEach(function(s){s(e,t)}),this.broadcast(e,t)}var t={TopLeft:"top left",TopRight:"top right",BottomLeft:"bottom left",BottomRight:"bottom right",Centered:"centered"},s=function(e){this.config={position:t.TopRight,disabled:!1,max:3,timeout:3e3},this.disabledHistory=[],this.history=[],this.listeners={broadcast:[],disable:[],info:[],error:[],success:[],warning:[]},angular.extend(this.config,e)};return s.prototype.Position=t,s.prototype.registerListener=function(e,t){if("warn"===e&&(e="warning"),!this.listeners[e])throw new Error("Topic "+e+" not supported");this.listeners[e].push(t)},s.prototype.configure=function(e){angular.extend(this.config,e)},s.prototype.getHistory=function(){return this.history},s.prototype.getDisabledHistory=function(){return this.disabledHistory},s.prototype.clearHistory=function(){this.history=[]},s.prototype.broadcast=function(e,t){var s={message:e,opts:t};this.config.disabled?this.disabledHistory.push(s):this.history.push(s),this.listeners.broadcast.forEach(function(s){s(e,t)})},s.prototype.danger=function(e,t){t=t||{},t.color="danger",this.listeners.danger.forEach(function(s){s(e,t)}),this.broadcast(e,t)},s.prototype.error=function(e,t){t=t||{},t.color="danger",this.listeners.error.forEach(function(s){s(e,t)}),this.broadcast(e,t)},s.prototype.info=function(e,t){t=t||{},t.color="info",this.listeners.info.forEach(function(s){s(e,t)}),this.broadcast(e,t)},s.prototype.success=function(e,t){t=t||{},t.color="success",this.listeners.success.forEach(function(s){s(e,t)}),this.broadcast(e,t)},s.prototype.warn=e,s.prototype.warning=e,new s}),function(e){try{e=angular.module("message-center.templates")}catch(t){e=angular.module("message-center.templates",[])}e.run(["$templateCache",function(e){e.put("templates/message-center/message-item.html",'<li class="message-box" ng-class="message.classes"><span class="message">{{message.message}}</span> <button type="button" class="close" aria-hidden="true" ng-click="removeItem(message)">&times;</button></li>')}])}();